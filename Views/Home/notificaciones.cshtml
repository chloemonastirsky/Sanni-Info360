@* Views/Home/notificaciones.cshtml *@
@{
    ViewData["Title"] = "Mis Notificaciones";
    Layout = "_Layout";
    
    // Obtenemos la lista desde el ViewBag y la casteamos a la clase correcta
    var LNotis = ViewBag.NotificacionesUsuario as List<NotificacionesUsuario>;
}

<main class="notificaciones-main">
    
    <div class="notificaciones-header">
        <h1 class="titulo-notificaciones">Tus Notificaciones</h1>
        <p class="subtitulo-notificaciones">Mantente al día con tus pedidos, promociones y alertas.</p>
    </div>

    @if (LNotis != null && LNotis.Count > 0)
    {
        <div class="lista-notificaciones">
            @foreach (var noti in LNotis)
            {
                <div class="card-notificacion">
                    <div class="icono-noti">
                        @* Icono basado en la categoría (opcional, se puede ajustar) *@
                        <i class="fas fa-bell" style="color: #4CAF50;"></i>
                    </div>
                    <div class="contenido-noti">
                        @* **USANDO: noti.categoria (como título)** *@
                        <h5 class="titulo-noti">@noti.categoria</h5> 
                        @* **USANDO: noti.mensaje** *@
                        <p class="mensaje-noti">@noti.mensaje</p>
                    </div>
                    <div class="meta-noti">
                        @* **USANDO: noti.fecha** *@
                        <small class="fecha-noti">@noti.fecha.ToString("dd MMM yyyy HH:mm")</small>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="mensaje-vacio">
            <i class="far fa-bell" style="font-size: 3em; color: #ccc;"></i>
            <h4 class="mt-3">¡Todo Despejado!</h4>
            <p>No tienes notificaciones pendientes en este momento.</p>
        </div>
    }

</main>