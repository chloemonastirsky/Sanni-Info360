@* Views/Home/verRestaurante.cshtml *@
@{
    Layout = "_Layout";
    ViewData["Title"] = (ViewBag.Restaurante != null) ? ViewBag.Restaurante.nombre : "Detalle de Restaurante";
    
    var restaurante = ViewBag.Restaurante as Restaurante;
var platos = ViewBag.PlatosRestaurante as List<Plato>;
var bebidas = ViewBag.BebidasRestaurante as List<Bebida>;
}

<div class="container my-5">
    
    @if (restaurante != null)
    {
        <div class="card shadow-lg mb-5 border-0 bg-light-sanni">
            <div class="row g-0">
                
                <div class="col-md-4">
                    <img src="/imagenes/@restaurante.foto" class="img-fluid rounded-start resto-header-img" alt="@restaurante.nombre" />
                </div>
                
                <div class="col-md-8">
                    <div class="card-body p-4">
                        <h1 class="card-title display-5 fw-bold" style="color: #4CAF50;">@restaurante.nombre</h1>
                        
                        <div class="text-warning fs-4 mb-3">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                        </div>
                        
                        <p class="text-muted mb-4">
                            Aquí iría una breve descripción o el eslogan del restaurante, y datos de contacto.
                        </p>
                        
                        <a href="#menu-platos" class="btn btn-lg btn-warning fw-bold text-dark">
                            Ver Menú Completo <i class="fas fa-chevron-down"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <h2 class="text-center mb-4 fw-bold" style="color: #333;" id="menu-platos">
            Menú del Día
        </h2>
        <hr class="mb-5" style="border: 0; height: 1px; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), #c8e6c9, rgba(0, 0, 0, 0));" />


        <h3 class="fw-bold mb-4" style="color: #4CAF50;"><i class="fas fa-utensils me-2"></i> Platos Principales</h3>
        
        @if (platos != null && platos.Count > 0)
        {
            <div class="row g-3 mb-5">
                @foreach (var p in platos)
                {
                    <div class="col-md-6 col-lg-4">
                        <div class="card h-100 shadow-sm border-0 item-card-sanni">
                            <div class="card-body">
                                <h5 class="card-title fw-bold" style="color: #4CAF50;">@p.nombre</h5>
                                <p class="card-text text-muted mb-2">@p.descripcion</p>
                                
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="badge bg-warning text-dark fw-bold">@p.calorias Cals</span>
                                    <h5 class="fw-bolder mb-0">$@p.precio.ToString("N0")</h5>
                                </div>
                                
                                <a href='@Url.Action("verPlato", "Home", new {idPlato= p.idPlato})' class="btn btn-sm btn-outline-success w-100">
                                    Ver Detalle <i class="fas fa-arrow-right ms-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="alert alert-info text-center">No se encontraron platos para este restaurante.</div>
        }

        <hr class="my-5" />

        <h3 class="fw-bold mb-4" style="color: #4CAF50;"><i class="fas fa-wine-glass-alt me-2"></i> Bebidas</h3>
        
        @if (bebidas != null && bebidas.Count > 0)
        {
            <div class="row g-3 mb-5">
                @foreach (var b in bebidas)
                {
                    <div class="col-md-6 col-lg-4">
                        <div class="card h-100 shadow-sm border-0 item-card-sanni">
                            <div class="card-body">
                                <h5 class="card-title fw-bold" style="color: #4CAF50;">@b.nombre</h5>
                                <p class="card-text text-muted">@b.descripcion</p>
                                <a href='@Url.Action("verBebida", "Home", new {idBebida= b.idBebida})' class="btn btn-sm btn-outline-success w-100 mt-2">
                                    Ver Detalle
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else
        {
            <div class="alert alert-info text-center">No se encontraron bebidas para este restaurante.</div>
        }
        
        <hr class="my-5" />

        <h3 class="fw-bold mb-4" style="color: #4CAF50;"><i class="fas fa-map-marker-alt me-2"></i> Ubicación</h3>
        
        <div id="map" class="shadow-lg rounded-3" style="height: 450px; width: 100%; margin-bottom: 20px;"></div>
        
    }
    else
    {
        <div class="alert alert-danger text-center p-5">
            <h4 class="alert-heading">Restaurante No Encontrado</h4>
            <p>Lo sentimos, el restaurante solicitado no está disponible o no existe.</p>
            <a href='@Url.Action("verRestaurantes", "Home")' class="btn btn-primary mt-3">Ver otros restaurantes</a>
        </div>
    }

</div>


